-------------------------------------------------------------------------------
JTAG
-------------------------------------------------------------------------------

This is a set of example captures of JTAG communication to an Olimex
STM32-H103 eval board with an ST STM32 (ARM Cortex-M3) microcontroller.

The JTAG adapter used was the FTDI FT2232H based Floss-JTAG (V0.2).

The firmware flashed to the board is a simple LED-blinking libopencm3
example named 'fancyblink'. The respective fancyblink.bin file is
available as a reference in the same directory as this README.
The file's MD5 sum is aa6980d55b9ced84fc0c64bfe9e5ff98.

Details:
http://olimex.com/dev/stm32-h103.html
http://randomprojects.org/wiki/Floss-JTAG
http://libopencm3.org
http://libopencm3.git.sourceforge.net/git/gitweb.cgi?p=libopencm3/libopencm3;a=tree;f=examples/stm32/f1/stm32-h103/fancyblink


Logic analyzer setup
--------------------

The logic analyzer used for capturing was a Saleae Logic:

  Probe       STM32-H103 JTAG connector
  -------------------------------------
  1 (black)   TRST
  2 (brown)   TDI
  3 (red)     TMS
  4 (orange)  TCK
  5 (yellow)  TDO
  6 (green)   RST


olimex_stm32-h103_flash_fancyblink.sr
-------------------------------------

The OpenOCD used was "0.5.0 (2011-08-09-08:45)" (Debian version 0.5.0-1):

  openocd -f interface/flossjtag-noeeprom.cfg \
          -f board/olimex_stm32_h107.cfg \
          -c "init" -c "reset init" \
          -c "stm32f1x mass_erase 0" \
          -c "flash write_image fancyblink.bin" \
          -c "reset" \
          -c "shutdown"

The sigrok command line used was:

  sigrok-cli -d 0:samplerate=4mhz --time 20s \
             -p '1=TRST,2=TDI,3=TMS,4=TCK,5=TDO,6=RST' \
             -o olimex_stm32-h103_flash_fancyblink.sr


olimex_stm32-h103_init_10s.sr
-----------------------------

The following OpenOCD command was used:

  openocd -f interface/flossjtag-noeeprom.cfg -f board/olimex_stm32_h107.cfg \
          -c "init"

The sigrok command line used was:

  sigrok-cli -d 0:samplerate=4mhz --time 10s \
             -p '1=TRST,2=TDI,3=TMS,4=TCK,5=TDO,6=RST' -o <filename>


